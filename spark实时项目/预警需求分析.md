同一设备(groupByKey mid)
5分钟内(开窗5分钟,窗口大小，以及滑动步长，必须是批次时间整数倍)
三次及以上用不同账号登录并领取优惠劵(先判断是否领优惠券"coupon"->uid->去重（set集合）->判断集合的大小是否大于等三)
并且过程中没有浏览商品。(反向判断，如果用户浏览商品，则不符合预警需求)
达到以上要求则产生一条预警日志。(生成预警日志)
并且同一设备，每分钟只记录一次预警(利用ES的幂等去重->将docid可以设置为 mid+精确到分种的时间)

学会的：如果去分析一个需求，（拆分需求），如何将数据写入ES，并利用kibana做可视化展示。

------------------------------------灵活分析需求--------------------------------
样例类不能直接通过toJsonString转为JOSN

存orderInfo
1.存什么
orderInfo转为json后的具体数据
2.用什么类型存
String
3.RedisKey怎么设计
"orderInfo:orderId"

存orderDetail
1.存什么
orderDetail转为json后的具体数据
2.用什么类型存
Set
3.RedisKey怎么设计
"orderDetail:orderId"