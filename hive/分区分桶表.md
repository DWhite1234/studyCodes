# 1.创建分桶表
create table pp(
    id int,
    name string
)clustered by (id)//指定分桶字段
into 4 buckets
row format delimited fields terminated by '\t';

分桶表的数据会被分桶字段取模分成4分


# 2.创建分区表
create table pp(
    id int,
)
partition by (dt String)
row format delimited fields terminated by '\t';

# 3.分区和分桶的区别
1. 分区分的是目录  分桶分的是具体的数据
2. 分区字段必不能再创建表的字段里 分桶字段必在创建的字段里



# 4.把数据直接上传到分区目录上，让分区表和数据产生关联的三种方式
## 1.方式一：上传数据后修复(常用)
msck repair table dept_partition2;
## 2.方式二：上传数据后添加分区
alter table dept_partition2 add partition(day='20200401',hour='14');
## 3.方式三：创建文件夹后load数据到分区
dfs -mkdir -p /user/hive/warehouse/db_hive.db/dept_partition2/day=20200401/hour=15